# on.merge 패턴

## 현재
```typescript
on.merge(_증가하기, _감소하기).pipe(
  map(([state]) => state + 1)
)
```

## 개선안

### 1. 단순 매핑
```typescript
// 매퍼 함수를 마지막 인자로
on.merge(_증가하기, _감소하기, _리셋하기, 
  (state) => state + 1
)

// 또는 payload도 필요한 경우
on.merge(_증가하기, _감소하기,
  (state, payload) => {
    console.log('Action fired with:', payload);
    return state + 1;
  }
)
```

### 2. 복잡한 연산
```typescript
// pipe가 필요할 때
on.merge(_증가하기, _감소하기).pipe(
  scan((acc) => acc + 1, 0),
  map(([state, payload, count]) => ({ ...state, actionCount: count }))
)
```

## 구현 시그니처
```typescript
interface OnFunction<TState> {
  merge<P extends Action<any>[]>(
    ...args: [...P, (state: TState, payload: GetActionPayloads<P>) => TState]
  ): void;
  
  merge<P extends Action<any>[]>(
    ...actions: P
  ): PipeableStream<TState, GetActionPayloads<P>>;
}
```

## 사용 예시
```typescript
export const useCounterStep = reducer(storePath.counter.step, 0, on => {
  // Before
  on.merge(_증가하기, _감소하기).pipe(
    map(([state]) => state + 1)
  )
  
  // After
  on.merge(_증가하기, _감소하기, state => state + 1)
  
  on(_리셋하기, () => 0)
})
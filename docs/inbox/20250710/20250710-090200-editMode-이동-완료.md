# editMode 이동 완료

> 좋아 그렇게 진행하자.

## 완료된 작업

### 1. editor 엔티티에 modeStore 생성
- `entities/editor/modeStore.ts` 생성
- storePath를 사용하여 'editor.mode' 경로 사용
- 기존 boolean 방식과의 호환성 유지

### 2. 타입 안전성 향상
- `EditorMode` 타입 정의: `'view' | 'edit' | 'select'`
- 하드코딩된 경로 제거
- storePath 프록시 활용

### 3. 호환성 유지
- `useEditMode()` 헬퍼 함수로 boolean 반환
- `_편집모드전환(boolean)` 액션 유지
- 기존 코드 수정 최소화

### 4. 정리 작업
- ✅ `/lib/editModeStore.ts` 삭제
- ✅ import 경로 변경 (`../../editModeStore` → `../../entities/editor`)
- ✅ 빌드 검증 완료

## 현재 구조

```
src/lib/
├── entities/
│   ├── editor/
│   │   ├── types.ts       # HtmlNode, TextSelection 타입
│   │   ├── modeStore.ts   # 에디터 모드 관리 (NEW!)
│   │   └── index.ts       # 재내보내기
│   ├── selection/
│   │   └── ...
│   └── index.ts          # 전체 스키마 및 상태 표시
```

## 장점

1. **도메인 일치**: 편집 모드가 editor 엔티티의 일부로 올바른 위치에
2. **타입 안전성**: storePath로 경로 하드코딩 제거
3. **확장성**: view/edit/select 등 다양한 모드 지원 가능
4. **일관성**: entities 스키마와 실제 구현이 일치

## 다음 단계

- selection의 actions.ts를 features로 이동 (순수 데이터만 남기기)
- HtmlEditor.svelte의 위치 결정
- features 계층 강화
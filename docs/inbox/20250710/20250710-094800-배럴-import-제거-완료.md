# 배럴 import 제거 완료

> 응 그렇게 수정하자

## 완료된 작업

### 1. Index.ts 파일들을 문서화 전용으로 변경
- ✅ `/lib/entities/index.ts` - 전체 entities 구조 문서화
- ✅ `/lib/actions/index.ts` - 전체 actions 구조 문서화
- ✅ `/lib/entities/selection/index.ts` - selection 엔티티 문서화
- ✅ `/lib/entities/editor/index.ts` - editor 엔티티 문서화

### 2. 모든 import 경로를 명시적으로 변경
- ✅ `EditOverlay.svelte`: `../../entities/editor/modeStore`
- ✅ `HtmlEditor.svelte`: `../../entities/editor/modeStore`
- ✅ `SelectionOverlay.svelte`: `../../entities/selection/store`

### 3. CLAUDE.md에 규칙 추가
```markdown
## Import Convention

**⚠️ IMPORTANT: 배럴 import 금지 (No Barrel Imports)**

Always use explicit import paths. Never import from index.ts files.
```

## 변경 전후 비교

### Before (배럴 import)
```typescript
export { useSelectedId, useBoundingRects } from './selection';
export { useEditorMode } from './editor';

// 사용처
import { useSelectedId } from '@/lib/entities';
```

### After (명시적 import)
```typescript
// index.ts는 문서화 전용 (export 없음)
/**
 * ## 📦 Exports (명시적 import 사용)
 * ```typescript
 * import { useSelectedId } from '@/lib/entities/selection/store';
 * ```
 */

// 사용처
import { useSelectedId } from '@/lib/entities/selection/store';
```

## 장점

1. **Unused imports 추적 용이**
   - VSCode "Find all references" 정확히 작동
   - 사용하지 않는 코드 쉽게 발견

2. **번들 최적화**
   - Tree shaking 효과적으로 작동
   - 불필요한 코드 제거

3. **성능 향상**
   - IDE 자동완성 속도 향상
   - 빌드 시간 단축
   - HMR 속도 개선

4. **순환 의존성 방지**
   - index.ts를 통한 순환 참조 불가능

## 빌드 결과

✅ `pnpm build` 성공 (a11y 경고만 있음)

## 팀 규칙

- 모든 index.ts 파일은 문서화 목적으로만 사용
- 새로운 모듈 추가 시 명시적 경로 사용
- 코드 리뷰 시 배럴 import 체크
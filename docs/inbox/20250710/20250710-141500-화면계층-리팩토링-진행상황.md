# 화면 계층 리팩토링 진행 상황

> 그래 그렇게 리팩토링해보자

## 완료된 작업

### 1. modules/editor 폴더 생성 및 컴포넌트 이동
- ✅ `/src/lib/modules/editor/` 폴더 생성
- ✅ `EditOverlay.svelte` → `modules/editor/EditOverlay.svelte`
- ✅ `SelectionOverlay.svelte` → `modules/editor/SelectionOverlay.svelte`

### 2. import 경로 수정
- ✅ 이동한 컴포넌트들의 내부 import 경로 수정 (../ → ../../)
- ✅ `HtmlEditor.svelte`에서 사용하는 import 경로 수정

### 3. 빌드 검증
- ✅ `pnpm build` 성공
- ⚠️ a11y 경고 발생 (기능에는 영향 없음)

## 현재 구조

```
src/lib/
├── modules/               # 화면 계층 (복합 UI)
│   └── editor/           # 에디터 관련 UI 모듈
│       ├── EditOverlay.svelte      # 편집 모드 오버레이
│       └── SelectionOverlay.svelte # 선택 영역 오버레이
└── features/
    └── html-parser/
        └── HtmlEditor.svelte  # 메인 에디터 (아직 features에 있음)
```

## 다음 단계 제안

1. **HtmlEditor.svelte 위치 결정**
   - 현재: `features/html-parser/HtmlEditor.svelte`
   - 제안: `modules/editor/HtmlEditor.svelte`로 이동
   - 이유: 화면 컴포넌트이므로 modules가 적절

2. **editModeStore.ts 위치 결정**
   - 현재: lib 루트에 있음
   - 제안: `features/editor/` 또는 `entities/editor/`로 이동
   - 고민: 상태 관리는 기능인가 데이터인가?

3. **features/html-parser 정리**
   - parser.ts, renderer.ts는 순수 기능이므로 유지
   - HtmlRenderer.svelte는 화면이므로 modules로 이동 검토

계속 진행할까요?
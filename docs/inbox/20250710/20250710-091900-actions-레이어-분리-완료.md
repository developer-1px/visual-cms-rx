# Actions 레이어 분리 완료

> actions는 모두가 공유하는거라서 features에 두면 entities와 의존관계가 깨지니까 actions는 완전 별도 레이어로 분리해야 된다 생각해

## 완료된 작업

### 1. Actions 레이어 생성
```
src/lib/
├── actions/                    # 새로운 공유 이벤트 레이어
│   ├── selection/
│   │   └── index.ts           # 선택 관련 액션
│   ├── editor/
│   │   └── mode.ts            # 에디터 모드 액션
│   └── index.ts               # 전체 액션 재내보내기
```

### 2. 액션 이동 및 정리
- ✅ `entities/selection/actions.ts` → `actions/selection/index.ts`
- ✅ `entities/editor/modeStore.ts`의 액션들 → `actions/editor/mode.ts`
- ✅ 액션 타입 명확화 (예: `'_선택하기'` → `'selection.선택하기'`)

### 3. Import 경로 업데이트
- ✅ `entities/selection/store.ts`
- ✅ `entities/editor/modeStore.ts`
- ✅ `modules/editor/EditOverlay.svelte`
- ✅ `modules/editor/SelectionOverlay.svelte`
- ✅ `features/html-parser/HtmlEditor.svelte`

### 4. Entities 정리
- ✅ `entities/selection/actions.ts` 삭제
- ✅ entities는 이제 순수 데이터(types)와 스토어만 포함
- ✅ entities/index.ts에서 액션 export 제거

## 현재 의존성 구조

```
올바른 의존성 방향:
modules → features → entities
modules → actions
features → actions
entities → actions

각 레이어의 역할:
- actions: 공유 이벤트 정의
- entities: 순수 데이터 모델과 상태 관리
- features: 비즈니스 로직
- modules: UI 컴포넌트
```

## 장점

1. **명확한 관심사 분리**: 이벤트, 데이터, 로직, UI가 각각 독립적
2. **의존성 역전 해결**: entities가 features에 의존하지 않음
3. **재사용성**: 액션은 어디서든 import 가능
4. **확장성**: 새로운 액션 추가가 용이

## 빌드 결과

✅ `pnpm build` 성공 (a11y 경고만 있음)

## 다음 단계

- features 계층 강화 (비즈니스 로직 중심)
- HtmlEditor.svelte 위치 결정
- 추가 리팩토링 필요 항목 검토